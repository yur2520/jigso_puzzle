(()=>{"use strict";var n={56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],c=0;c<n.length;c++){var s=n[c],l=o.base?s[0]+o.base:s[0],u=a[l]||0,p="".concat(l," ").concat(u);a[l]=u+1;var d=t(p),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=r(f,o);o.byIndex=c,e.splice(c,0,{identifier:p,updater:h,references:1})}i.push(p)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var c=t(a[i]);e[c].references--}for(var s=o(n,r),l=0;l<a.length;l++){var u=t(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=s}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<n.length;l++){var u=[].concat(n[l]);o&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},365:(n,e,t)=>{t.d(e,{A:()=>d});var o=t(601),r=t.n(o),a=t(314),i=t.n(a),c=t(417),s=t.n(c),l=new URL(t(443),t.b),u=i()(r()),p=s()(l);u.push([n.id,`:root {\n     --theme-bg-color: linear-gradient(135deg, #adbdda 0%, #9e92ac 100%);\n     --theme-button-color: #9899ca;\n     --theme-button-hover-color: #7081b8;\n }\n\n @font-face {\n     font-family: 'SUITE Variable';\n     font-weight: 300 900;\n     /* 폰트 파일 경로가 올바른지 확인해주세요. */\n     src: url(${p}) format('woff2-variations');\n }\n\n\n * {\n     box-sizing: border-box;\n }\n\n body {\n     font-family: 'SUITE Variable', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n     text-align: center;\n     background: var(--theme-bg-color);\n     transition: 0.5s ease;\n     margin: 0;\n     padding: 20px;\n     min-height: 100vh;\n     color: #333;\n }\n\n .container {\n     max-width: 1200px;\n     margin: 0 auto;\n }\n\n h1 {\n     color: white;\n     text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n     margin-bottom: 30px;\n }\n\n .controls {\n     background: white;\n     border-radius: 15px;\n     padding: 20px;\n     margin-bottom: 20px;\n     box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n }\n\n .image-selection {\n     margin-bottom: 20px;\n }\n\n /* --- 캐러셀 스타일 시작 --- */\n .carousel-wrapper {\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;    \n    max-width: 800px;\n    margin: 0 auto 20px;\n }\n \n .carousel-container {\n    overflow: hidden;\n    width: 100%;\n }\n\n .preset-images {\n    display: flex; /* grid 대신 flex 사용 */\n    gap: 15px;\n    padding: 10px;\n    transition: transform 0.5s ease-in-out; /* 슬라이드 애니메이션 */\n }\n\n .preset-image-container {\n     text-align: center;\n     cursor: pointer;\n     transition: transform 0.3s;\n     flex-shrink: 0; /* 아이템 크기가 줄어들지 않도록 설정 */\n }\n /* --- 캐러셀 스타일 끝 --- */\n\n\n .preset-image-container:hover {\n     transform: translateY(-5px);\n }\n\n .preset-image {\n     width: 150px; /* 이미지 너비 조정 */\n     height: 110px; /* 이미지 높이 조정 */\n     border: 3px solid #ddd;\n     border-radius: 10px;\n     cursor: pointer;\n     object-fit: cover;\n     transition: all 0.3s;\n     display: block;\n }\n\n .preset-image:hover {\n     border-color: var(--theme-button-color);\n     box-shadow: 0 5px 15px var(--theme-button-color);;\n }\n\n .preset-image.selected {\n     border-color: var(--theme-button-color);\n     border-width: 4px;\n     box-shadow: 0 8px 20px var(--theme-button-color);;\n }\n \n /* 캐러셀 버튼 스타일 */\n .carousel-button {\n    background-color: rgba(255, 255, 255, 0.7);\n    border: 1px solid #ccc;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;    \n    font-size: 20px;\n    font-family: 'SUITE Variable';\n    font-weight: bold;\n    cursor: pointer;\n    transition: all 0.2s;\n    margin: 0 10px;\n    z-index: 10;\n }\n \n .carousel-button:hover {\n    background-color: white;\n    box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n }\n\n .difficulty-controls {\n     display: flex;\n     justify-content: center;\n     gap: 10px;\n     flex-wrap: wrap;\n }\n\n .difficulty-controls button {\n     background: var(--theme-button-color);\n     color: white;\n     border: none;\n     padding: 10px 20px;\n     border-radius: 8px;\n     cursor: pointer;\n     font-family: 'SUITE Variable';\n     font-size: 16px;\n     text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); \n     transition: all 0.3s;\n     box-shadow: inset 1px 1px 2px rgba(255, 255, 255, 0.2), inset -1px -1px 2px rgba(20, 20, 20, 0.2);\n }\n\n .difficulty-controls button:hover {\n     background: var(--theme-button-hover-color);\n     transform: translateY(-2px);\n }\n\n .difficulty-controls button:disabled {\n     background: #ccc;\n     cursor: not-allowed;\n     transform: none;\n }\n\n .game-info {\n     background: white;\n     border-radius: 10px;\n     padding: 15px;\n     margin-bottom: 20px;\n     box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n     display: none;\n }\n\n .game-info.show {\n     display: block;\n }\n\n .info-item {\n     display: inline-block;\n     margin: 0 15px;\n     font-weight: bold;\n }\n\n .error-message {\n     \n     color: rgb(43, 43, 43);\n     padding: 10px;\n     border-radius: 6px;\n     margin: 10px 0;\n     display: none;\n }\n\n .message-space { height: 50px;}\n\n .loading {    \n     color: rgb(77, 77, 77);\n     padding: 10px;\n     border-radius: 5px;\n     margin: 10px 0;\n     display: none;\n }\n\n #puzzle-container {\n     border: 0px solid #333;\n     position: relative;\n     background-color: #fff;\n     margin: 20px auto;\n     border-radius: 10px;\n     box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);\n     overflow: hidden;\n }\n\n #pieces-container {\n     border: 0px solid #999;\n     position: relative;\n     margin: 20px auto;\n     min-height: 200px;\n     background: rgba(255, 255, 255, 0.6);\n     border-radius: 10px;\n     backdrop-filter: blur(5px);\n }\n\n .puzzle-piece {\n     position: absolute;\n     border: 0px solid rgba(255, 255, 255, 0.8);\n     cursor: grab;\n     border-radius: 5px;\n     transition: transform 0.3s ease;\n     box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), \n                inset 1px 1px 2px rgba(255, 255, 255, 0.6),\n                inset -1px -1px 2px rgba(20, 20, 20, 0.6);\n }\n\n .puzzle-piece:hover {\n     transform: scale(1.05);\n     z-index: 10;\n }\n\n .puzzle-piece:active {\n     cursor: grabbing;\n }\n\n .puzzle-piece.snapped {\n     cursor: default;\n     border: 0px solid rgba(0, 0, 0, 0.1);\n     border-radius: 0;\n     box-shadow: none;\n }\n\n .completion-message {\n     position: fixed;\n     top: 50%;\n     left: 50%;\n     transform: translate(-50%, -50%);\n     background: white;\n     padding: 30px;\n     border-radius: 15px;\n     box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n     z-index: 10000;\n     text-align: center;\n     display: none;\n }\n\n .completion-message.show {\n     display: block;\n     animation: popIn 0.5s ease;\n }\n\n @keyframes popIn {\n     0% {\n         transform: translate(-50%, -50%) scale(0.5);\n         opacity: 0;\n     }\n\n     100% {\n         transform: translate(-50%, -50%) scale(1);\n         opacity: 1;\n     }\n }\n\n /* 반응형 디자인 */\n @media (max-width: 768px) {\n     body {\n         padding: 10px;\n     }\n\n     h1 {\n         font-size: 24px;\n         margin-bottom: 20px;\n     }\n\n     .controls {\n         padding: 15px;\n     }\n     \n     .preset-image {\n         width: 120px;\n         height: 90px;\n     }\n\n     .carousel-button {\n        width: 30px;\n        height: 30px;\n        font-size: 16px;\n        margin: 0 5px;\n     }\n\n     .difficulty-controls {\n         gap: 5px;\n     }\n\n     .difficulty-controls button {\n         padding: 8px 15px;\n         font-size: 14px;\n     }\n\n     .info-item {\n         display: block;\n         margin: 5px 0;\n     }\n\n     #puzzle-container,\n     #pieces-container {\n         max-width: 95vw;\n         margin: 15px auto;\n     }\n\n     .puzzle-piece {\n         border: 1px solid rgba(255, 255, 255, 0.9);\n     }\n\n     .puzzle-piece:hover {\n         transform: none;\n     }\n }\n\n @media (max-width: 480px) {\n     .preset-image {\n         width: 100px;\n         height: 75px;\n     }\n     .carousel-wrapper {\n        max-width: calc(100vw - 40px);\n     }\n     .carousel-button {\n        display: none; /* 작은 화면에서는 버튼을 숨기고 터치 스크롤을 유도 */\n     }\n     .carousel-container {\n        overflow-x: auto; /* 터치 스크롤 활성화 */\n        -webkit-overflow-scrolling: touch; /* 부드러운 스크롤 효과 */\n        scrollbar-width: none; /* Firefox 스크롤바 숨김 */\n     }\n     .carousel-container::-webkit-scrollbar {\n        display: none; /* Chrome, Safari 스크롤바 숨김 */\n     }\n\n     .difficulty-controls button {\n         padding: 6px 12px;\n         font-size: 12px;\n     }\n }`,""]);const d=u},417:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},443:(n,e,t)=>{n.exports=t.p+"a57ef2ad411f382de13c.woff2"},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!n||!/^http(s?):/.test(n));)n=o[r--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0;var o=function(n,e){return n<e?-1:n>e?1:0},r=function(n){return n.reduce(function(n,e){return n+e},0)},a=function(){function n(n){this.colors=n}var e=n.prototype;return e.palette=function(){return this.colors},e.map=function(n){return n},n}(),c=function(){function n(n,e,t){return(n<<10)+(e<<5)+t}function e(n){var e=[],t=!1;function o(){e.sort(n),t=!0}return{push:function(n){e.push(n),t=!1},peek:function(n){return t||o(),void 0===n&&(n=e.length-1),e[n]},pop:function(){return t||o(),e.pop()},size:function(){return e.length},map:function(n){return e.map(n)},debug:function(){return t||o(),e}}}function t(n,e,t,o,r,a,i){var c=this;c.r1=n,c.r2=e,c.g1=t,c.g2=o,c.b1=r,c.b2=a,c.histo=i}function i(){this.vboxes=new e(function(n,e){return o(n.vbox.count()*n.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function c(e,t){if(t.count()){var o=t.r2-t.r1+1,r=t.g2-t.g1+1,a=Math.max.apply(null,[o,r,t.b2-t.b1+1]);if(1==t.count())return[t.copy()];var i,c,s,l,u=0,p=[],d=[];if(a==o)for(i=t.r1;i<=t.r2;i++){for(l=0,c=t.g1;c<=t.g2;c++)for(s=t.b1;s<=t.b2;s++)l+=e[n(i,c,s)]||0;p[i]=u+=l}else if(a==r)for(i=t.g1;i<=t.g2;i++){for(l=0,c=t.r1;c<=t.r2;c++)for(s=t.b1;s<=t.b2;s++)l+=e[n(c,i,s)]||0;p[i]=u+=l}else for(i=t.b1;i<=t.b2;i++){for(l=0,c=t.r1;c<=t.r2;c++)for(s=t.g1;s<=t.g2;s++)l+=e[n(c,s,i)]||0;p[i]=u+=l}return p.forEach(function(n,e){d[e]=u-n}),function(n){var e,o,r,a,c,s=n+"1",l=n+"2",f=0;for(i=t[s];i<=t[l];i++)if(p[i]>u/2){for(r=t.copy(),a=t.copy(),c=(e=i-t[s])<=(o=t[l]-i)?Math.min(t[l]-1,~~(i+o/2)):Math.max(t[s],~~(i-1-e/2));!p[c];)c++;for(f=d[c];!f&&p[c-1];)f=d[--c];return r[l]=c,a[s]=r[l]+1,[r,a]}}(a==o?"r":a==r?"g":"b")}}return t.prototype={volume:function(n){var e=this;return e._volume&&!n||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var t=this,o=t.histo;if(!t._count_set||e){var r,a,i,c=0;for(r=t.r1;r<=t.r2;r++)for(a=t.g1;a<=t.g2;a++)for(i=t.b1;i<=t.b2;i++)c+=o[n(r,a,i)]||0;t._count=c,t._count_set=!0}return t._count},copy:function(){var n=this;return new t(n.r1,n.r2,n.g1,n.g2,n.b1,n.b2,n.histo)},avg:function(e){var t=this,o=t.histo;if(!t._avg||e){var r,a,i,c,s=0,l=0,u=0,p=0;if(t.r1===t.r2&&t.g1===t.g2&&t.b1===t.b2)t._avg=[t.r1<<3,t.g1<<3,t.b1<<3];else{for(a=t.r1;a<=t.r2;a++)for(i=t.g1;i<=t.g2;i++)for(c=t.b1;c<=t.b2;c++)s+=r=o[n(a,i,c)]||0,l+=r*(a+.5)*8,u+=r*(i+.5)*8,p+=r*(c+.5)*8;t._avg=s?[~~(l/s),~~(u/s),~~(p/s)]:[~~(8*(t.r1+t.r2+1)/2),~~(8*(t.g1+t.g2+1)/2),~~(8*(t.b1+t.b2+1)/2)]}}return t._avg},contains:function(n){var e=this,t=n[0]>>3;return gval=n[1]>>3,bval=n[2]>>3,t>=e.r1&&t<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},i.prototype={push:function(n){this.vboxes.push({vbox:n,color:n.avg()})},palette:function(){return this.vboxes.map(function(n){return n.color})},size:function(){return this.vboxes.size()},map:function(n){for(var e=this.vboxes,t=0;t<e.size();t++)if(e.peek(t).vbox.contains(n))return e.peek(t).color;return this.nearest(n)},nearest:function(n){for(var e,t,o,r=this.vboxes,a=0;a<r.size();a++)((t=Math.sqrt(Math.pow(n[0]-r.peek(a).color[0],2)+Math.pow(n[1]-r.peek(a).color[1],2)+Math.pow(n[2]-r.peek(a).color[2],2)))<e||void 0===e)&&(e=t,o=r.peek(a).color);return o},forcebw:function(){var n=this.vboxes;n.sort(function(n,e){return o(r(n.color),r(e.color))});var e=n[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(n[0].color=[0,0,0]);var t=n.length-1,a=n[t].color;a[0]>251&&a[1]>251&&a[2]>251&&(n[t].color=[255,255,255])}},{quantize:function(r,s){if(!Number.isInteger(s)||s<1||s>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!r.length||s<2||s>256)return!1;if(!r.length||s<2||s>256)return!1;for(var l=[],u=new Set,p=0;p<r.length;p++){var d=r[p],f=d.join(",");u.has(f)||(u.add(f),l.push(d))}if(l.length<=s)return new a(l);var h=function(e){var t,o=new Array(32768);return e.forEach(function(e){t=n(e[0]>>3,e[1]>>3,e[2]>>3),o[t]=(o[t]||0)+1}),o}(r);h.forEach(function(){});var g=function(n,e){var o,r,a,i=1e6,c=0,s=1e6,l=0,u=1e6,p=0;return n.forEach(function(n){(o=n[0]>>3)<i?i=o:o>c&&(c=o),(r=n[1]>>3)<s?s=r:r>l&&(l=r),(a=n[2]>>3)<u?u=a:a>p&&(p=a)}),new t(i,c,s,l,u,p,e)}(r,h),m=new e(function(n,e){return o(n.count(),e.count())});function b(n,e){for(var t,o=n.size(),r=0;r<1e3;){if(o>=e)return;if(r++>1e3)return;if((t=n.pop()).count()){var a=c(h,t),i=a[0],s=a[1];if(!i)return;n.push(i),s&&(n.push(s),o++)}else n.push(t),r++}}m.push(g),b(m,.75*s);for(var x=new e(function(n,e){return o(n.count()*n.volume(),e.count()*e.volume())});m.size();)x.push(m.pop());b(x,s);for(var v=new i;x.size();)v.push(x.pop());return v}}}().quantize,s=function(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=n.naturalWidth,this.height=this.canvas.height=n.naturalHeight,this.context.drawImage(n,0,0,this.width,this.height)};s.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var l=function(){};l.prototype.getColor=function(n,e){return void 0===e&&(e=10),this.getPalette(n,5,e)[0]},l.prototype.getPalette=function(n,e,t){var o=function(n){var e=n.colorCount,t=n.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===t||!Number.isInteger(t)||t<1)&&(t=10),{colorCount:e,quality:t}}({colorCount:e,quality:t}),r=new s(n),a=function(n,e,t){for(var o,r,a,i,c,s=n,l=[],u=0;u<e;u+=t)r=s[0+(o=4*u)],a=s[o+1],i=s[o+2],(void 0===(c=s[o+3])||c>=125)&&(r>250&&a>250&&i>250||l.push([r,a,i]));return l}(r.getImageData().data,r.width*r.height,o.quality),i=c(a,o.colorCount);return i?i.palette():null},l.prototype.getColorFromUrl=function(n,e,t){var o=this,r=document.createElement("img");r.addEventListener("load",function(){var a=o.getPalette(r,5,t);e(a[0],n)}),r.src=n},l.prototype.getImageData=function(n,e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="arraybuffer",t.onload=function(){if(200==this.status){var n=new Uint8Array(this.response);i=n.length;for(var t=new Array(i),o=0;o<n.length;o++)t[o]=String.fromCharCode(n[o]);var r=t.join(""),a=window.btoa(r);e("data:image/png;base64,"+a)}},t.send()},l.prototype.getColorAsync=function(n,e,t){var o=this;this.getImageData(n,function(n){var r=document.createElement("img");r.addEventListener("load",function(){var n=o.getPalette(r,5,t);e(n[0],this)}),r.src=n})};var u=t(72),p=t.n(u),d=t(825),f=t.n(d),h=t(659),g=t.n(h),m=t(56),b=t.n(m),x=t(540),v=t.n(x),y=t(113),w=t.n(y),E=t(365),I={};I.styleTagTransform=w(),I.setAttributes=b(),I.insert=g().bind(null,"head"),I.domAPI=f(),I.insertStyleElement=v(),p()(E.A,I),E.A&&E.A.locals&&E.A.locals;const z=t.p+"298dad648ccce0ac6710.png",k=t.p+"547b2e6f890979dda049.jpeg",M=t.p+"659611200866bb85c4bc.jpeg",C=t.p+"aa15fe237ecc75629674.png",S=t.p+"0c6c2cc2c9e385e17b25.jpeg",L=t.p+"06d97694f4786b1073a0.jpeg",T=t.p+"b5328a20595be26969ca.jpeg",$=t.p+"db27ae695ee7b29dc9b6.jpeg",j=t.p+"0a066a388846a9356998.jpeg",B=t.p+"8deb648e4e54bfaba932.jpeg",A=t.p+"0b2f05f447cf0df7ff17.jpeg",q=t.p+"9acc66fa37d12d946829.png",P=document.getElementById("puzzle-container"),_=document.getElementById("pieces-container"),U=document.getElementById("errorMessage"),D=document.getElementById("loadingMessage"),H=document.getElementById("gameInfo"),N=document.getElementById("completionMessage"),R=new Image;let F=null,W=1;const X={img1:{url:B,title:"마카롱"},tale2:{url:A,title:"백설공주"},flowers1:{url:"https://images.unsplash.com/photo-1490750967868-88aa4486c946?w=800&h=600&fit=crop&crop=center",title:"화려한 꽃"},cake1:{url:k,title:"딸기 케이크"},ocean1:{url:C,title:"바다와 해변"},illust1:{url:z,title:"꿈꾸는 산"},platelay1:{url:M,title:"가을의 여유"},dessert3:{url:S,title:"핫케이크"},moonlight1:{url:L,title:"꿈꾸는 밤"},tale1:{url:$,title:"신데렐라"},puppy1:{url:T,title:"강아지유화"},dessert2:{url:j,title:"아이스크림"},books1:{url:q,title:"서재"}};let Y,O,V,G,J=[],Q=null,K=null,Z=0,nn=0,en=0;function tn(){const n=Math.min(600,.95*window.innerWidth),e=Math.min(600,.85*window.innerHeight);let t,o;W>=1?(t=Math.min(n,R.naturalWidth),o=t/W,o>e&&(o=e,t=o*W)):(o=Math.min(e,R.naturalHeight),t=o*W,t>n&&(t=n,o=t/W)),Y=Math.floor(t),O=Math.floor(o)}function on(){_.innerHTML="",P.innerHTML="",J=[],Z=0,H.classList.remove("show"),an()}function rn(){document.getElementById("completedPieces").textContent=Z;const n=parseInt(document.getElementById("totalPieces").textContent),e=n>0?Math.round(Z/n*100):0;document.getElementById("progressPercent").textContent=e}function an(){K&&(clearInterval(K),K=null)}function cn(){if(!Q)return;const n=Date.now()-Q,e=Math.floor(n/6e4),t=Math.floor(n%6e4/1e3);document.getElementById("gameTime").textContent=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}function sn(n){U.textContent=n,U.style.display="block",setTimeout(()=>{U.style.display="none"},5e3)}function ln(){D.style.display="none"}function un(n,e){let t;return function(...o){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),n(...o)},e)}}R.onload=()=>{ln(),W=R.naturalWidth/R.naturalHeight,tn(),P.style.width=`${Y}px`,P.style.height=`${O}px`,_.style.width=`${Y}px`,_.style.minHeight=`${Math.max(400,.7*O)}px`,function(){const n=(new l).getPalette(R,2);if(n&&n.length>=2){const e=`rgb(${n[0].join(",")})`,t=`rgb(${n[1].join(",")})`;document.documentElement.style.setProperty("--theme-bg-color",`linear-gradient(135deg, ${e} 0%, ${t} 100%)`),document.documentElement.style.setProperty("--theme-button-color",e),document.documentElement.style.setProperty("--theme-button-hover-color",t)}}(),document.querySelectorAll(".difficulty-controls button").forEach(n=>{n.disabled=!1}),U.textContent="이미지가 로드되었습니다! 난이도를 선택해주세요.",U.style.display="block",setTimeout(()=>{U.style.display="none"},3e3)},R.onerror=()=>{ln(),sn("이미지를 불러올 수 없습니다. 다른 이미지를 선택해주세요."),document.querySelectorAll(".difficulty-controls button").forEach(n=>{n.disabled=!0})},document.querySelectorAll(".preset-image-container").forEach(n=>{n.addEventListener("click",()=>{const e=n.dataset.image,t=X[e];var o;t?(document.querySelectorAll(".preset-image").forEach(n=>n.classList.remove("selected")),n.querySelector(".preset-image").classList.add("selected"),D.style.display="block",W=t.ratio,o=t.url,t.title,F=o,on(),R.crossOrigin="anonymous",R.src=o):sn("이미지 정보를 찾을 수 없습니다.")})}),window.addEventListener("resize",un(function(){F&&(tn(),P.style.width=`${Y}px`,P.style.height=`${O}px`,_.style.width=`${Y}px`,_.style.minHeight=`${Math.max(400,.7*O)}px`,J.length>0&&(V=Y/nn,G=O/en,J.forEach(n=>{if(n.style.width=`${V}px`,n.style.height=`${G}px`,n.classList.contains("snapped")){const e=n.dataset.col*V,t=n.dataset.row*G;n.style.left=`${e}px`,n.style.top=`${t}px`}})))},250)),window.addEventListener("load",()=>{document.querySelectorAll(".preset-image-container").forEach(n=>{const e=n.dataset.image,t=X[e];if(t){const e=n.querySelector(".preset-image");e&&(e.src=t.url)}}),function(){const n=document.querySelector(".preset-images"),e=document.querySelector(".carousel-container"),t=document.getElementById("nextBtn"),o=document.getElementById("prevBtn");let r=0;function a(){const t=e.clientWidth,o=t,a=n.scrollWidth-t;let i=r*-o;i<-a&&(i=-a),i>0&&(i=0),n.style.transform=`translateX(${i}px)`}t.addEventListener("click",()=>{const t=e.clientWidth,o=n.scrollWidth;(r+1)*t<o&&(r++,a())}),o.addEventListener("click",()=>{r>0&&(r--,a())}),window.addEventListener("resize",un(a,250))}();const n=document.querySelector(".preset-image-container");n&&n.click()}),document.querySelectorAll(".difficulty-controls button").forEach(n=>{n.addEventListener("click",()=>{!function(n){if(!F)return void sn("먼저 이미지를 선택해주세요.");on(),H.classList.add("show"),Q=Date.now(),K=setInterval(cn,1e3);const e=function(n){let e,t;switch(n){case 12:e=4,t=3;break;case 30:default:e=6,t=5;break;case 50:e=10,t=5;break;case 100:e=10,t=10}return{cols:e,rows:t}}(n),t=e.cols,o=e.rows;nn=t,en=o,V=Y/t,G=O/o,document.getElementById("totalPieces").textContent=n,rn();const r=R.naturalWidth/t,a=R.naturalHeight/o;for(let n=0;n<o;n++)for(let e=0;e<t;e++){const t=document.createElement("canvas");t.width=V,t.height=G,t.getContext("2d").drawImage(R,e*r,n*a,r,a,0,0,V,G);const o=document.createElement("div");o.className="puzzle-piece",o.style.width=`${V}px`,o.style.height=`${G}px`,o.style.backgroundImage=`url(${t.toDataURL()})`,o.style.backgroundSize="cover",o.dataset.correctX=""+e*V,o.dataset.correctY=""+n*G,o.dataset.col=e,o.dataset.row=n,J.push(o)}J.sort(()=>Math.random()-.5),J.forEach((n,e)=>{const t=_.getBoundingClientRect(),o=Math.max(0,t.width-V),r=Math.max(0,t.height-G);n.style.left=Math.random()*o+"px",n.style.top=Math.random()*r+"px",n.style.zIndex=e,_.appendChild(n),function(n){let e,t,o=!1;const r=["mousemove","touchmove"],a=["mouseup","touchend"];function i(n){return n.type.includes("touch")?{x:n.touches[0].clientX,y:n.touches[0].clientY}:{x:n.clientX,y:n.clientY}}function c(r){if(!o)return;r.preventDefault();const a=i(r);n.style.left=a.x-e+"px",n.style.top=a.y-t+"px"}function s(e){o&&(o=!1,n.style.zIndex=1)}["mousedown","touchstart"].forEach(l=>{n.addEventListener(l,l=>{l.preventDefault();const u=i(l);o=!0,e=u.x-n.offsetLeft,t=u.y-n.offsetTop,n.style.zIndex=1e3,_.appendChild(n),r.forEach(n=>document.addEventListener(n,c)),a.forEach(n=>document.addEventListener(n,s,{once:!0}))})}),r.forEach(n=>document.removeEventListener(n,c)),r.forEach(r=>{document.addEventListener(r,r=>{if(!o)return;r.preventDefault();const a=i(r);n.style.left=a.x-e+"px",n.style.top=a.y-t+"px"})}),a.forEach(e=>{document.addEventListener(e,e=>{if(!o)return;o=!1,n.style.zIndex=1;const t=n.getBoundingClientRect(),r=P.getBoundingClientRect(),a=parseFloat(n.dataset.correctX)+r.left,i=parseFloat(n.dataset.correctY)+r.top,c=Math.min(30,.3*Math.min(V,G));Math.abs(t.left-a)<c&&Math.abs(t.top-i)<c&&(n.style.left=`${parseFloat(n.dataset.correctX)}px`,n.style.top=`${parseFloat(n.dataset.correctY)}px`,n.classList.add("snapped"),P.appendChild(n),Z++,rn(),P.children.length===J.length&&(an(),setTimeout(()=>{!function(){const n=document.getElementById("gameTime").textContent;document.getElementById("finalTime").textContent=n,N.classList.add("show")}()},500)))})})}(n)})}(parseInt(n.dataset.difficulty))})}),document.getElementById("closeCompletionMessage").addEventListener("click",function(){N.classList.remove("show")})})();